import{u as D,r as I,j as a}from"./app-DEodmxZ4.js";import{I as d}from"./input-error-CWSVcoCe.js";import{B as _}from"./button-BU8wYODn.js";import{C as L,a as T}from"./calendar-DnC5HLJA.js";import{C as k,a as A,b as M,c as O,d as Y}from"./card-DDq-eJrx.js";import{I as l}from"./input-Ma6ltSwf.js";import{L as i}from"./label-CVFwntDH.js";import{P as B,a as W,b as K}from"./popover-D4Dd06r9.js";import{S as o,a as c,b as j,c as p,d as x}from"./select-D3Br6WQg.js";import{T as g}from"./textarea-BtA3LT9d.js";import{c as V}from"./utils-CBfrqCZ4.js";import{f as b}from"./format-Ca1hgyLe.js";/* empty css            */import"./createLucideIcon-Ciazu9A6.js";import"./chevron-left-BAadinYi.js";import"./chevron-right-BAUhfx-k.js";import"./chevron-down-BJJsNtqP.js";import"./index-Dqm9ArZJ.js";import"./index-WzQZJAMm.js";import"./Combination-BD8NzWg0.js";import"./index-CVrm0gEe.js";import"./index-Dc_FVRD7.js";import"./index-Dw3aRKdY.js";import"./index-CmQTaG4y.js";import"./check-Bqiw8qNV.js";var v=(r=>(r.Male="male",r.Female="female",r))(v||{}),N=(r=>(r.Muslim="muslim",r.Christian="christian",r.Catholic="catholic",r.Hindu="hindu",r.Buddhist="buddhist",r.Other="other",r))(N||{}),y=(r=>(r.Father="father",r.Mother="mother",r.Other="other",r))(y||{});const H={male:"Laki-laki",female:"Perempuan"},J={muslim:"Islam",christian:"Kristen Protestan",catholic:"Kristen Katolik",hindu:"Hindu",buddhist:"Buddha",other:"Lainnya"},$={father:"Ayah",mother:"Ibu",other:"Lainnya (Isi Manual)"};function f({title:r,description:m}){return a.jsxs("div",{className:"mt-6 first:mt-0 md:col-span-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:r}),m&&a.jsx("p",{className:"text-sm text-muted-foreground",children:m}),a.jsx("hr",{className:"mt-2"})]})}function ga({student:r,schoolAcademicYear:m}){const h=!!r,C=()=>{if(h&&r?.guardian&&r?.parent){if(r.guardian.name===r.parent.father_name&&r.guardian.address===r.parent.address)return"father";if(r.guardian.name===r.parent.mother_name&&r.guardian.address===r.parent.address)return"mother"}return"other"},{data:s,setData:n,post:F,put:w,processing:u,errors:t}=D({nisn:r?.nisn??"",name:r?.name??"",gender:r?.gender??"",birth_place:r?.birth_place??"",birth_date:r?.birth_date??"",religion:r?.religion??"",address:r?.address??"",father_name:r?.parent?.father_name??"",mother_name:r?.parent?.mother_name??"",father_job:r?.parent?.father_job??"",mother_job:r?.parent?.mother_job??"",parent_address:r?.parent?.address??"",guardian_type:C(),guardian_name:r?.guardian?.name??"",guardian_job:r?.guardian?.job??"",guardian_phone_number:r?.guardian?.phone_number??"",guardian_address:r?.guardian?.address??""});I.useEffect(()=>{s.guardian_type==="father"?(n("guardian_name",s.father_name),n("guardian_job",s.father_job),n("guardian_address",s.parent_address)):s.guardian_type==="mother"&&(n("guardian_name",s.mother_name),n("guardian_job",s.mother_job),n("guardian_address",s.parent_address))},[s.guardian_type,s.father_name,s.mother_name,s.father_job,s.mother_job,s.parent_address]);const S=e=>{e.preventDefault(),h?w(route("protected.school-academic-years.students.update",{schoolAcademicYear:m.id,student:r.id})):F(route("protected.school-academic-years.students.store",{schoolAcademicYear:m.id}))};return a.jsxs(k,{children:[a.jsxs(A,{children:[a.jsx(M,{children:h?"Edit Siswa":"Tambah Siswa Baru"}),a.jsx(O,{children:"Isi semua data yang diperlukan di bawah ini."})]}),a.jsx(Y,{children:a.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(f,{title:"Data Diri Siswa"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(i,{htmlFor:"nisn",children:["NISN ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(l,{id:"nisn",value:s.nisn,onChange:e=>n("nisn",e.target.value)}),a.jsx(d,{message:t.nisn})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(i,{htmlFor:"name",children:["Nama Lengkap ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(l,{id:"name",value:s.name,onChange:e=>n("name",e.target.value)}),a.jsx(d,{message:t.name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(i,{htmlFor:"gender",children:["Jenis Kelamin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(o,{value:s.gender,onValueChange:e=>n("gender",e),children:[a.jsx(c,{children:a.jsx(j,{placeholder:"Pilih jenis kelamin..."})}),a.jsx(p,{children:Object.values(v).map(e=>a.jsx(x,{value:e,children:H[e]},e))})]}),a.jsx(d,{message:t.gender})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(i,{htmlFor:"religion",children:["Agama ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(o,{value:s.religion,onValueChange:e=>n("religion",e),children:[a.jsx(c,{children:a.jsx(j,{placeholder:"Pilih agama..."})}),a.jsx(p,{children:Object.values(N).map(e=>a.jsx(x,{value:e,children:J[e]},e))})]}),a.jsx(d,{message:t.religion})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(i,{htmlFor:"birth_place",children:["Tempat Lahir ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(l,{id:"birth_place",value:s.birth_place,onChange:e=>n("birth_place",e.target.value)}),a.jsx(d,{message:t.birth_place})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(i,{htmlFor:"birth_date",children:["Tanggal Lahir ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(B,{children:[a.jsx(W,{asChild:!0,children:a.jsxs(_,{variant:"outline",className:V("w-full justify-start text-left font-normal",!s.birth_date&&"text-muted-foreground"),children:[a.jsx(L,{className:"mr-2 h-4 w-4"}),s.birth_date?b(new Date(s.birth_date),"PPP"):a.jsx("span",{children:"Pilih tanggal lahir"})]})}),a.jsx(K,{className:"w-auto p-0",children:a.jsx(T,{mode:"single",captionLayout:"dropdown",fromYear:new Date().getFullYear()-100,toYear:new Date().getFullYear(),selected:s.birth_date?new Date(s.birth_date):void 0,onSelect:e=>e&&n("birth_date",b(e,"yyyy-MM-dd")),defaultMonth:s.birth_date?new Date(s.birth_date):new Date(new Date().setFullYear(new Date().getFullYear()-15)),initialFocus:!0})})]}),a.jsx(d,{message:t.birth_date})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsxs(i,{htmlFor:"address",children:["Alamat Siswa ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(g,{id:"address",value:s.address,onChange:e=>n("address",e.target.value)}),a.jsx(d,{message:t.address})]}),a.jsx(f,{title:"Data Orang Tua"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(i,{htmlFor:"father_name",children:["Nama Ayah ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(l,{id:"father_name",value:s.father_name,onChange:e=>n("father_name",e.target.value)}),a.jsx(d,{message:t.father_name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(i,{htmlFor:"mother_name",children:["Nama Ibu ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(l,{id:"mother_name",value:s.mother_name,onChange:e=>n("mother_name",e.target.value)}),a.jsx(d,{message:t.mother_name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"father_job",children:"Pekerjaan Ayah"}),a.jsx(l,{id:"father_job",value:s.father_job,onChange:e=>n("father_job",e.target.value)}),a.jsx(d,{message:t.father_job})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"mother_job",children:"Pekerjaan Ibu"}),a.jsx(l,{id:"mother_job",value:s.mother_job,onChange:e=>n("mother_job",e.target.value)}),a.jsx(d,{message:t.mother_job})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsxs(i,{htmlFor:"parent_address",children:["Alamat Orang Tua ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(g,{id:"parent_address",value:s.parent_address,onChange:e=>n("parent_address",e.target.value)}),a.jsx(d,{message:t.parent_address})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsxs(i,{htmlFor:"guardian_type",children:["Wali Siswa Adalah ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(o,{value:s.guardian_type,onValueChange:e=>{n(P=>({...P,guardian_type:e,guardian_name:"",guardian_job:"",guardian_phone_number:"",guardian_address:""}))},children:[a.jsx(c,{children:a.jsx(j,{placeholder:"Pilih wali..."})}),a.jsx(p,{children:Object.values(y).map(e=>a.jsx(x,{value:e,children:$[e]},e))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(i,{htmlFor:"guardian_name",children:["Nama Wali ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(l,{id:"guardian_name",value:s.guardian_name,onChange:e=>n("guardian_name",e.target.value),disabled:s.guardian_type!=="other"}),a.jsx(d,{message:t.guardian_name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"guardian_job",children:"Pekerjaan Wali"}),a.jsx(l,{id:"guardian_job",value:s.guardian_job,onChange:e=>n("guardian_job",e.target.value),disabled:s.guardian_type!=="other"}),a.jsx(d,{message:t.guardian_job})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsxs(i,{htmlFor:"guardian_address",children:["Alamat Wali ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(g,{id:"guardian_address",value:s.guardian_address,onChange:e=>n("guardian_address",e.target.value),disabled:s.guardian_type!=="other"}),a.jsx(d,{message:t.guardian_address})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"guardian_phone_number",children:"No. Telp Wali"}),a.jsx(l,{id:"guardian_phone_number",value:s.guardian_phone_number,onChange:e=>n("guardian_phone_number",e.target.value)}),a.jsx(d,{message:t.guardian_phone_number})]}),a.jsx("div",{className:"flex justify-end md:col-span-2",children:a.jsx(_,{type:"submit",disabled:u,children:u?"Menyimpan...":h?"Simpan Perubahan":"Simpan Data Siswa"})})]})})]})}export{ga as default};
