import{r as C,u as f,j as s}from"./app-DEodmxZ4.js";import{I as w}from"./input-error-CWSVcoCe.js";import{B as l}from"./button-BU8wYODn.js";import{C as b,a as y,b as k,c as g,d as N}from"./card-DDq-eJrx.js";import{C as S,a as v,b as P,c as _,d as E,e as I}from"./command-DVKdyN-8.js";import{L as D}from"./label-CVFwntDH.js";import{P as T,a as $,b as L}from"./popover-D4Dd06r9.js";import{c as B}from"./utils-CBfrqCZ4.js";import{C as F}from"./chevrons-up-down-PjQIP6O-.js";import{C as G}from"./check-Bqiw8qNV.js";/* empty css            */import"./index-1SDqNhYh.js";import"./index-WzQZJAMm.js";import"./Combination-BD8NzWg0.js";import"./index-Dqm9ArZJ.js";import"./createLucideIcon-Ciazu9A6.js";function ss({schoolAcademicYear:t,classroom:e,availableStudents:o,classroomStudent:r}){const i=!!r,[d,m]=C.useState(!1),{data:n,setData:p,post:h,put:u,processing:c,errors:x}=f({student_id:r?.student_id??""}),j=a=>{a.preventDefault(),i?u(route("protected.school-academic-years.classrooms.students.update",{schoolAcademicYear:t.id,classroom:e.id,classroomStudent:r.id})):h(route("protected.school-academic-years.classrooms.students.store",{schoolAcademicYear:t.id,classroom:e.id}))};return s.jsxs(b,{children:[s.jsxs(y,{children:[s.jsx(k,{children:i?`Ganti Siswa di Kelas ${e.name}`:`Tambah Siswa ke Kelas ${e.name}`}),s.jsx(g,{children:i?"Pilih siswa baru untuk menggantikan siswa saat ini di dalam kelas.":"Pilih siswa yang ingin ditambahkan ke dalam kelas ini."})]}),s.jsx(N,{children:s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{children:["Siswa ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(T,{open:d,onOpenChange:m,children:[s.jsx($,{asChild:!0,children:s.jsxs(l,{variant:"outline",role:"combobox","aria-expanded":d,className:"w-full justify-between",children:[n.student_id?o.find(a=>a.id===n.student_id)?.name:"Pilih siswa...",s.jsx(F,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(L,{className:"w-[--radix-popover-trigger-width] p-0",children:s.jsxs(S,{children:[s.jsx(v,{placeholder:"Cari nama atau NISN siswa..."}),s.jsxs(P,{children:[s.jsx(_,{children:"Siswa tidak ditemukan."}),s.jsx(E,{children:o.map(a=>s.jsxs(I,{value:`${a.name} ${a.nisn}`,onSelect:()=>{p("student_id",a.id),m(!1)},children:[s.jsx(G,{className:B("mr-2 h-4 w-4",n.student_id===a.id?"opacity-100":"opacity-0")}),a.name," (",a.nisn,")"]},a.id))})]})]})})]}),s.jsx(w,{message:x.student_id})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(l,{type:"submit",disabled:c,children:c?"Menyimpan...":i?"Simpan Perubahan":"Tambahkan Siswa"})})]})})]})}export{ss as default};
