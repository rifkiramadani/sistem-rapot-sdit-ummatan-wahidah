import{j as e,b as o}from"./app-DEodmxZ4.js";import{D as u,B as p,T as m,I as x,a as l,b as c,E as j,A as k,c as S,d as A,e as f,f as w,g as C,h as N,i as D,j as b}from"./table-tooltip-action-Dj3tC6qq.js";import{B as n}from"./button-BU8wYODn.js";import{C as d}from"./checkbox-DPeacv8h.js";import{ClassroomStudentsTableFilters as v}from"./classroom-students-table-filters-D8vjwwJX.js";/* empty css            */import"./createLucideIcon-Ciazu9A6.js";import"./index-WzQZJAMm.js";import"./index-1SDqNhYh.js";import"./Combination-BD8NzWg0.js";import"./index-Dqm9ArZJ.js";import"./utils-CBfrqCZ4.js";import"./dropdown-menu-CyT2SB9n.js";import"./index-Dc_FVRD7.js";import"./index-CVrm0gEe.js";import"./index-Dw3aRKdY.js";import"./index-DloU2XnE.js";import"./check-Bqiw8qNV.js";import"./table-Cnk9SBIO.js";import"./chevrons-up-down-PjQIP6O-.js";import"./chevron-left-BAadinYi.js";import"./chevron-right-BAUhfx-k.js";import"./select-D3Br6WQg.js";import"./index-CmQTaG4y.js";import"./chevron-down-BJJsNtqP.js";import"./tooltip-BZmIEA4b.js";import"./input-Ma6ltSwf.js";const y=(i,r)=>[{id:"select",header:({table:t})=>e.jsx(d,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>t.toggleAllPageRowsSelected(!!a)}),cell:({row:t})=>e.jsx(d,{checked:t.getIsSelected(),onCheckedChange:a=>t.toggleSelected(!!a)}),enableSorting:!1,enableHiding:!1},{accessorFn:t=>t.student?.nisn??"N/A",id:"nisn",header:({column:t})=>e.jsx(l,{column:t,title:"NISN"})},{accessorFn:t=>t.student?.name??"N/A",id:"name",header:({column:t})=>e.jsx(l,{column:t,title:"Nama Siswa"})},{accessorFn:t=>t.student?.gender,id:"gender",header:"L/P",cell:({row:t})=>{const a=t.original.student?.gender;return a?a==="male"?"Laki-laki":"Perempuan":"N/A"}},{accessorFn:t=>t.student?.guardian?.name??"N/A",id:"guardian_name",header:"Nama Wali"},{id:"actions",header:"Aksi",cell:({row:t})=>{const a=t.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{info:"Lihat",children:e.jsx(n,{variant:"outline",size:"icon",onClick:()=>o.get(route("protected.school-academic-years.classrooms.students.show",{schoolAcademicYear:i.id,classroom:r.id,classroomStudent:a.id})),children:e.jsx(j,{className:"h-4 w-4"})})}),e.jsxs(k,{children:[e.jsx(c,{info:"Keluarkan dari Kelas",children:e.jsx(S,{asChild:!0,children:e.jsx(n,{variant:"outline",size:"icon",children:e.jsx(m,{className:"h-4 w-4"})})})}),e.jsxs(A,{children:[e.jsxs(f,{children:[e.jsx(w,{children:"Apakah Anda Yakin?"}),e.jsx(C,{children:"Tindakan ini akan mengeluarkan siswa dari kelas ini, tetapi tidak akan menghapus data siswa secara permanen."})]}),e.jsxs(N,{children:[e.jsx(D,{children:"Batal"}),e.jsx(b,{className:"bg-destructive text-white hover:bg-destructive/80 hover:text-white",onClick:()=>o.delete(route("protected.school-academic-years.classrooms.students.destroy",{schoolAcademicYear:i.id,classroom:r.id,classroomStudent:a.id})),children:"Ya, Keluarkan"})]})]})]})]})}}];function ae({classroomStudents:i,schoolAcademicYear:r,classroom:t}){const a=s=>{const g=Object.keys(s.getState().rowSelection);o.post(route("protected.school-academic-years.classrooms.students.bulk-destroy",{schoolAcademicYear:r,classroom:t}),{ids:g},{onSuccess:()=>s.resetRowSelection(),preserveScroll:!0})},h=y(r,t);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(u,{columns:h,data:i.data,meta:{from:i.from},children:s=>e.jsxs("div",{className:"flex w-full items-center gap-4",children:[e.jsx(v,{}),e.jsx(p,{itemCount:Object.keys(s.getState().rowSelection).length,itemName:"siswa dari kelas ini",onConfirm:()=>a(s),children:e.jsxs(n,{className:"text-xs",variant:"destructive",disabled:Object.keys(s.getState().rowSelection).length===0,children:[e.jsx(m,{className:"mr-1 h-2 w-2"})," Keluarkan (",Object.keys(s.getState().rowSelection).length,")"]})})]})}),e.jsx(x,{paginateItems:i})]})}export{ae as ClassroomStudentsTable,y as getColumns};
