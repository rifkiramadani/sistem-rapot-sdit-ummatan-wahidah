import{r as x,u as f,j as a}from"./app-DEodmxZ4.js";import{I as C}from"./input-error-CWSVcoCe.js";import{B as c}from"./button-BU8wYODn.js";import{C as y,a as b,b as _,c as k,d as g}from"./card-DDq-eJrx.js";import{C as v,a as N,b as w,c as P,d as T,e as E}from"./command-DVKdyN-8.js";import{L as S}from"./label-CVFwntDH.js";import{P as D,a as I,b as L}from"./popover-D4Dd06r9.js";import{c as A}from"./utils-CBfrqCZ4.js";import{C as B}from"./chevrons-up-down-PjQIP6O-.js";import{C as F}from"./check-Bqiw8qNV.js";/* empty css            */import"./index-1SDqNhYh.js";import"./index-WzQZJAMm.js";import"./Combination-BD8NzWg0.js";import"./index-Dqm9ArZJ.js";import"./createLucideIcon-Ciazu9A6.js";function Y({school:r,academicYears:t,schoolAcademicYear:i}){const s=!!i,[o,d]=x.useState(!1),{data:n,setData:p,post:l,put:h,processing:m,errors:u}=f({academic_year_id:i?.academic_year_id??""}),j=e=>{e.preventDefault(),s?h(route("protected.schools.academic-years.update",{school:r.id,schoolAcademicYear:i.id})):l(route("protected.schools.academic-years.store",{school:r.id}))};return a.jsxs(y,{children:[a.jsxs(b,{children:[a.jsx(_,{children:s?"Edit Tahun Ajaran":"Tambah Tahun Ajaran"}),a.jsx(k,{children:s?`Lakukan perubahan pada tahun ajaran yang tertaut ke sekolah ${r.name}.`:`Pilih tahun ajaran yang ingin ditautkan ke sekolah ${r.name}.`})]}),a.jsx(g,{children:a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(S,{children:["Tahun Ajaran ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(D,{open:o,onOpenChange:d,children:[a.jsx(I,{asChild:!0,children:a.jsxs(c,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between",children:[n.academic_year_id?t.find(e=>e.id===n.academic_year_id)?.name:"Pilih tahun ajaran...",a.jsx(B,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(L,{className:"w-[--radix-popover-trigger-width] p-0",children:a.jsxs(v,{children:[a.jsx(N,{placeholder:"Cari tahun ajaran..."}),a.jsxs(w,{children:[a.jsx(P,{children:"Tahun ajaran tidak ditemukan."}),a.jsx(T,{children:t.map(e=>a.jsxs(E,{value:e.name,onSelect:()=>{p("academic_year_id",e.id),d(!1)},children:[a.jsx(F,{className:A("mr-2 h-4 w-4",n.academic_year_id===e.id?"opacity-100":"opacity-0")}),e.name]},e.id))})]})]})})]}),a.jsx(C,{message:u.academic_year_id})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(c,{type:"submit",disabled:m,children:m?"Menyimpan...":s?"Simpan Perubahan":"Simpan"})})]})})]})}export{Y as default};
