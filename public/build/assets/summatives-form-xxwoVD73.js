import{u as N,r as j,j as e}from"./app-DEodmxZ4.js";import{I as d}from"./input-error-CWSVcoCe.js";import{B as _}from"./button-BU8wYODn.js";import{C as b,a as M,b as k,c as T,d as I}from"./card-DDq-eJrx.js";import{I as f}from"./input-Ma6ltSwf.js";import{L as l}from"./label-CVFwntDH.js";import{S as E,a as D,b as P,c as B,d as F}from"./select-D3Br6WQg.js";import{T as c}from"./textarea-BtA3LT9d.js";/* empty css            */import"./utils-CBfrqCZ4.js";import"./index-Dqm9ArZJ.js";import"./index-CVrm0gEe.js";import"./index-WzQZJAMm.js";import"./index-Dc_FVRD7.js";import"./index-Dw3aRKdY.js";import"./Combination-BD8NzWg0.js";import"./index-CmQTaG4y.js";import"./chevron-down-BJJsNtqP.js";import"./createLucideIcon-Ciazu9A6.js";import"./check-Bqiw8qNV.js";function ae({schoolAcademicYear:p,classroom:u,classroomSubject:x,subject:g,summativeTypes:o,summative:s}){const t=!!s,{data:i,setData:n,post:v,put:y,processing:h,errors:r}=N({name:s?.name??"",identifier:s?.identifier??"",description:s?.description??"",summative_type_id:s?.summative_type_id??"",prominent:s?.prominent??"",improvement:s?.improvement??""}),m=j.useMemo(()=>o.find(S=>S.id===i.summative_type_id)?.name==="Sumatif Materi",[i.summative_type_id,o]);j.useEffect(()=>{!t&&!m&&n({...i,identifier:"",prominent:"",improvement:""})},[m,t,n]);const C=a=>{a.preventDefault(),t&&s?y(route("protected.school-academic-years.classrooms.subjects.summatives.update",{schoolAcademicYear:p,classroom:u,classroomSubject:x,summative:s})):v(route("protected.school-academic-years.classrooms.subjects.summatives.store",{schoolAcademicYear:p,classroom:u,classroomSubject:x}))};return e.jsxs(b,{children:[e.jsxs(M,{children:[e.jsx(k,{children:t?"Edit Sumatif":"Tambah Sumatif Baru"}),e.jsxs(T,{children:["Isi detail penilaian sumatif untuk mata pelajaran ",g.name,"."]})]}),e.jsx(I,{children:e.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(l,{children:["Jenis Sumatif ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(E,{value:i.summative_type_id,onValueChange:a=>n("summative_type_id",a),disabled:t,children:[e.jsx(D,{children:e.jsx(P,{placeholder:"Pilih jenis sumatif..."})}),e.jsx(B,{children:o.map(a=>e.jsx(F,{value:a.id,children:a.name},a.id))})]}),e.jsx(d,{message:r.summative_type_id})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(l,{children:["Nama Sumatif ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(f,{value:i.name,onChange:a=>n("name",a.target.value),placeholder:"Contoh: Ujian Tengah Semester Ganjil"}),e.jsx(d,{message:r.name})]}),m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Identifier ",m&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(f,{value:i.identifier??"",onChange:a=>n("identifier",a.target.value),placeholder:"Contoh: M1"}),e.jsx(d,{message:r.identifier})]}),e.jsx("div",{className:"space-y-2"}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(l,{children:["Materi Paling Menonjol ",m&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{value:i.prominent||"",onChange:a=>n("prominent",a.target.value),placeholder:"Contoh: Menunjukkan penguasaan yang baik tentang..."}),e.jsx(d,{message:r.prominent})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(l,{children:["Materi Yang Perlu Ditingkatkan ",m&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{value:i.improvement||"",onChange:a=>n("improvement",a.target.value),placeholder:"Contoh: Perlu bantuan pemahaman mengenai..."}),e.jsx(d,{message:r.improvement})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(l,{children:"Deskripsi (Opsional)"}),e.jsx(c,{value:i.description||"",onChange:a=>n("description",a.target.value),placeholder:"Tulis deskripsi singkat mengenai penilaian sumatif ini..."}),e.jsx(d,{message:r.description})]}),e.jsx("div",{className:"flex justify-end md:col-span-2",children:e.jsx(_,{type:"submit",disabled:h,children:h?"Menyimpan...":t?"Simpan Perubahan":"Buat Sumatif"})})]})})]})}export{ae as default};
